<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MangoGuard | Leaf Disease Detection</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #27ae60;
            --secondary: #f39c12;
            --accent: #e74c3c;
            --light: #f5f9e5;
            --dark: #2c3e50;
            --gray: #7f8c8d;
            --healthy: #2ecc71;
            --disease: #e74c3c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5f9e5 0%, #d4e6b3 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            animation: fadeIn 1s ease;
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .logo i {
            font-size: 2.5rem;
            color: var(--secondary);
        }
        
        h1 {
            font-size: 2.8rem;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .tagline {
            font-size: 1.2rem;
            color: var(--gray);
            max-width: 600px;
            margin: 0 auto;
        }
        
        .main-content {
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            margin: 30px 0;
        }
        
        .upload-section, .result-section {
            flex: 1;
            min-width: 300px;
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease;
        }
        
        .upload-section:hover, .result-section:hover {
            transform: translateY(-5px);
        }
        
        h2 {
            color: var(--primary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #e8f4f2;
        }
        
        .upload-area {
            border: 3px dashed #bdc3c7;
            border-radius: 12px;
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 25px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .upload-area:hover {
            border-color: var(--secondary);
            background-color: #f9f9f9;
        }
        
        .upload-area i {
            font-size: 3.5rem;
            color: #bdc3c7;
            margin-bottom: 15px;
        }
        
        .upload-area.active {
            border-color: var(--primary);
            background-color: #e8f6f3;
        }
        
        .upload-area.active i {
            color: var(--primary);
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            background: var(--secondary);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 20px;
        }
        
        .btn:hover {
            background: #e67e22;
        }
        
        .btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }
        
        .result-content {
            text-align: center;
            padding: 20px 0;
        }
        
        .disease-name {
            font-size: 1.8rem;
            color: var(--disease);
            margin: 20px 0;
            font-weight: bold;
        }
        
        .healthy {
            color: var(--healthy);
        }
        
        .confidence {
            font-size: 1.1rem;
            color: var(--gray);
        }
        
        .preview-image {
            max-width: 100%;
            max-height: 300px;
            border-radius: 10px;
            margin-top: 20px;
            display: none;
        }
        
        .disease-info {
            background: #f9f9f9;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            text-align: left;
            display: none;
        }
        
        .disease-info h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .remedies {
            margin-top: 15px;
        }
        
        .remedies h4 {
            color: var(--secondary);
            margin-bottom: 8px;
        }
        
        .remedies ul {
            padding-left: 20px;
        }
        
        .remedies li {
            margin-bottom: 5px;
        }
        
        .info-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .info-card {
            background: #f9f9f9;
            border-radius: 10px;
            padding: 20px;
            border-left: 4px solid var(--primary);
        }
        
        .info-card h3 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        footer {
            text-align: center;
            padding: 20px;
            color: var(--gray);
            margin-top: 40px;
        }
        
        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2.2rem;
            }
        }
        
        .loading {
            display: none;
            text-align: center;
            margin: 20px 0;
        }
        
        .spinner {
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--secondary);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .disease-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                
                <h1>MangoGuard</h1>
            </div>
            <p class="tagline">AI-powered detection of mango leaf diseases to help farmers protect their crops</p>
        </header>
        
        <div class="main-content">
            <section class="upload-section">
                <h2>Upload Leaf Image</h2>
                <div class="upload-area" id="uploadArea">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <p>Click or drag an image of a mango leaf here</p>
                    <p class="confidence">Supported formats: JPG, PNG, JPEG</p>
                </div>
                <input type="file" id="fileInput" accept="image/*" hidden>
                <img id="previewImage" class="preview-image" alt="Mango leaf preview">
                
                <div class="loading" id="loadingIndicator">
                    <div class="spinner"></div>
                    <p>Analyzing your image...</p>
                </div>
                
                <button class="btn" id="predictBtn" disabled>Predict Disease</button>
            </section>
            
            <section class="result-section">
                <h2>Detection Results</h2>
                <div class="result-content">
                    <i class="fas fa-clipboard-list disease-icon"></i>
                    <p>Upload an image to get started with disease detection</p>
                    <div class="disease-name" id="diseaseResult"></div>
                    <p class="confidence" id="confidenceText"></p>
                    
                    <div class="disease-info" id="diseaseInfo">
                        <h3>About this disease</h3>
                        <p id="diseaseDescription"></p>
                        
                        <div class="remedies">
                            <h4>Suggested Remedies</h4>
                            <ul id="remediesList"></ul>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        
        <section class="info-section">
            <h2>About Mango Leaf Diseases</h2>
            <p>Mango trees can be affected by several diseases that impact leaf health and overall crop yield. Early detection is key to effective treatment and prevention of spread.</p>
            
            <div class="info-grid">
                <div class="info-card">
                    <h3>Anthracnose</h3>
                    <p>Dark spots with yellow halos on leaves, can cause leaf drop and fruit rot.</p>
                </div>
                <div class="info-card">
                    <h3>Powdery Mildew</h3>
                    <p>White powdery growth on leaves and flowers, can cause premature fruit drop.</p>
                </div>
                <div class="info-card">
                    <h3>Bacterial Canker</h3>
                    <p>Angular lesions on leaves, black cankers on stems, and fruit spots.</p>
                </div>
                <div class="info-card">
                    <h3>Gall Midge</h3>
                    <p>Abnormal swellings or growths on leaves caused by insects or mites.</p>
                </div>
                <div class="info-card">
                    <h3>Die Back</h3>
                    <p>Twig dieback starting at the tips and progressing downward.</p>
                </div>
                <div class="info-card">
                    <h3>Cutting Weevil</h3>
                    <p>Notching on leaf margins caused by adult weevils.</p>
                </div>
                <div class="info-card">
                    <h3>Sooty Mould</h3>
                    <p>Black, powdery fungal growth on leaves and stems.</p>
                </div>
            </div>
        </section>
        
        <section class="info-section">
            <h2>How to Use This Tool</h2>
            <ol style="padding-left: 20px; margin-top: 15px;">
                <li>Take a clear photo of a mango leaf against a neutral background</li>
                <li>Upload the image using the drag-and-drop area or file browser</li>
                <li>Click the "Predict Disease" button to analyze the image</li>
                <li>Review the results and recommended actions</li>
            </ol>
            <p style="margin-top: 15px; font-style: italic;">Note: This tool provides predictions based on AI analysis. For serious crop concerns, consult with agricultural experts.</p>
        </section>
        
        <footer>
            <p>MangoGuard &copy; 2025 | AI-Powered Crop Protection</p>
        </footer>
    </div>

    <script>
        // Disease information database
        const diseaseDatabase = {
            'Anthracnose': {
                description: 'Anthracnose is a fungal disease caused by Colletotrichum gloeosporioides. It appears as dark, sunken lesions with yellow halos on leaves, stems, flowers, and fruits. In severe cases, it can cause leaf drop, blossom blight, and fruit rot.',
                remedies: [
                    'Prune and destroy infected plant parts',
                    'Apply copper-based fungicides during flowering and fruit development',
                    'Use resistant mango varieties when possible',
                    'Ensure proper spacing between trees for good air circulation',
                    'Avoid overhead irrigation to reduce leaf wetness'
                ]
            },
            'Powdery Mildew': {
                description: 'Powdery mildew is caused by the fungus Oidium mangiferae. It appears as white, powdery spots on leaves, flowers, and young fruits. Infected flowers may fail to set fruit, and young fruits may drop prematurely or develop russeting.',
                remedies: [
                    'Apply sulfur or potassium bicarbonate-based fungicides',
                    'Use neem oil as an organic treatment option',
                    'Prune to improve air circulation within the canopy',
                    'Avoid excessive nitrogen fertilization',
                    'Apply fungicides at flowering and early fruit development stages'
                ]
            },
            'Bacterial Canker': {
                description: 'Bacterial canker is caused by Xanthomonas campestris pv. mangiferaeindicae. Symptoms include angular water-soaked lesions on leaves, black cankers on stems, and raised spots on fruits. The disease is more severe in rainy conditions.',
                remedies: [
                    'Prune and destroy infected branches during dry weather',
                    'Apply copper-based bactericides after pruning',
                    'Disinfect pruning tools between cuts',
                    'Avoid overhead irrigation to minimize spread',
                    'Use resistant varieties when available'
                ]
            },
            'Gall Midge': {
                description: 'Gall midge is caused by the larvae of Procontarinia mangicola. The insects cause raised galls or bumps on leaves, which can lead to leaf distortion, curling, and premature drop. Severe infestations can reduce tree vigor.',
                remedies: [
                    'Remove and destroy affected leaves',
                    'Apply systemic insecticides during new flush growth',
                    'Use yellow sticky traps to monitor adult populations',
                    'Encourage natural predators like parasitic wasps',
                    'Apply neem-based products as a preventive measure'
                ]
            },
            'Die Back': {
                description: 'Die back, also known as stem end rot, is caused by various fungi including Botryosphaeria species. It typically starts at the tips of branches and progresses downward, causing wilting, browning, and death of twigs and branches.',
                remedies: [
                    'Prune infected branches 6-8 inches below visible symptoms',
                    'Disinfect pruning tools between cuts',
                    'Apply copper-based fungicides after pruning',
                    'Avoid mechanical injury to trees',
                    'Maintain tree vigor with proper nutrition and irrigation'
                ]
            },
            'Cutting Weevil': {
                description: 'Cutting weevil damage is caused by adult weevils (Strophosoma species) that feed on leaf margins, creating characteristic notches. While rarely fatal, severe infestations can reduce photosynthetic capacity and tree vigor.',
                remedies: [
                    'Handpick weevils during early morning or evening',
                    'Apply botanical insecticides like neem or pyrethrum',
                    'Use beneficial nematodes against soil-dwelling larvae',
                    'Maintain garden hygiene to reduce breeding sites',
                    'Use physical barriers like sticky bands on tree trunks'
                ]
            },
            'Sooty Mould': {
                description: 'Sooty mould is a fungal growth that develops on honeydew excreted by sap-sucking insects like aphids, scales, and whiteflies. It appears as black, powdery coating on leaves, stems, and fruits, reducing photosynthesis.',
                remedies: [
                    'Control honeydew-producing insects with appropriate insecticides',
                    'Use horticultural oils to suffocate the fungal growth',
                    'Wipe leaves with soapy water for small infestations',
                    'Encourage natural predators of sap-sucking insects',
                    'Improve air circulation through proper pruning'
                ]
            },
            'Healthy Leaf': {
                description: 'Your mango leaf appears healthy with no signs of common diseases. Continue with good cultural practices to maintain tree health and prevent future disease problems.',
                remedies: [
                    'Continue regular monitoring for early detection of problems',
                    'Maintain proper irrigation and nutrition',
                    'Prune trees annually to remove dead wood and improve air circulation',
                    'Apply preventive fungicides during high-risk periods',
                    'Keep the area around trees free of fallen leaves and debris'
                ]
            }
        };

        document.addEventListener('DOMContentLoaded', function() {
            const uploadArea = document.getElementById('uploadArea');
            const fileInput = document.getElementById('fileInput');
            const previewImage = document.getElementById('previewImage');
            const predictBtn = document.getElementById('predictBtn');
            const diseaseResult = document.getElementById('diseaseResult');
            const confidenceText = document.getElementById('confidenceText');
            const loadingIndicator = document.getElementById('loadingIndicator');
            const diseaseInfo = document.getElementById('diseaseInfo');
            const diseaseDescription = document.getElementById('diseaseDescription');
            const remediesList = document.getElementById('remediesList');
            
            // Handle drag and drop events
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, preventDefaults, false);
            });
            
            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            ['dragenter', 'dragover'].forEach(eventName => {
                uploadArea.addEventListener(eventName, highlight, false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                uploadArea.addEventListener(eventName, unhighlight, false);
            });
            
            function highlight() {
                uploadArea.classList.add('active');
            }
            
            function unhighlight() {
                uploadArea.classList.remove('active');
            }
            
            // Handle file drop
            uploadArea.addEventListener('drop', handleDrop, false);
            
            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                handleFiles(files);
            }
            
            // Handle click on upload area
            uploadArea.addEventListener('click', () => {
                fileInput.click();
            });
            
            fileInput.addEventListener('change', () => {
                handleFiles(fileInput.files);
            });
            
            function handleFiles(files) {
                if (files.length > 0) {
                    const file = files[0];
                    if (file.type.match('image.*')) {
                        const reader = new FileReader();
                        
                        reader.onload = function(e) {
                            previewImage.src = e.target.result;
                            previewImage.style.display = 'block';
                            predictBtn.disabled = false;
                            
                            // Update upload area text
                            uploadArea.querySelector('p').textContent = 'Image uploaded successfully!';
                            uploadArea.querySelector('.confidence').textContent = 'Click to change image';
                            
                            // Reset previous results
                            diseaseResult.textContent = '';
                            confidenceText.textContent = '';
                            diseaseInfo.style.display = 'none';
                        }
                        
                        reader.readAsDataURL(file);
                    }
                }
            }
            
            // Handle prediction button click
            predictBtn.addEventListener('click', () => {
                // Show loading indicator
                loadingIndicator.style.display = 'block';
                predictBtn.disabled = true;
                
                // Simulate prediction process (replace with actual API call)
                setTimeout(() => {
                    // This is where you would normally call your ML model API
                    // For demonstration, we're using a random result
                    const diseases = [
                        'Anthracnose', 
                        'Powdery Mildew', 
                        'Bacterial Canker', 
                        'Gall Midge', 
                        'Die Back',
                        'Cutting Weevil',
                        'Sooty Mould',
                        'Healthy Leaf'
                    ];
                    
                    const randomDisease = diseases[Math.floor(Math.random() * diseases.length)];
                    const confidence = (Math.random() * 0.3 + 0.7).toFixed(2); // Random confidence between 0.7 and 1.0
                    
                    // Display result
                    diseaseResult.textContent = randomDisease;
                    
                    if (randomDisease === 'Healthy Leaf') {
                        diseaseResult.classList.add('healthy');
                    } else {
                        diseaseResult.classList.remove('healthy');
                    }
                    
                    confidenceText.textContent = `Confidence: ${(confidence * 100).toFixed(1)}%`;
                    
                    // Display disease information and remedies
                    displayDiseaseInfo(randomDisease);
                    
                    // Hide loading indicator
                    loadingIndicator.style.display = 'none';
                    predictBtn.disabled = false;
                }, 2000); // Simulate 2 second processing time
            });
            
            function displayDiseaseInfo(disease) {
                const info = diseaseDatabase[disease];
                
                if (info) {
                    diseaseDescription.textContent = info.description;
                    
                    // Clear previous remedies
                    remediesList.innerHTML = '';
                    
                    // Add remedies to list
                    info.remedies.forEach(remedy => {
                        const li = document.createElement('li');
                        li.textContent = remedy;
                        remediesList.appendChild(li);
                    });
                    
                    // Show disease info section
                    diseaseInfo.style.display = 'block';
                }
            }
        });
    </script>
</body>
</html>